<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Doomslug | NEAR Analysis</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/near-styles.css">
		<link rel="stylesheet" href="dist/theme/moon.css">

		<meta name="description" content="Team Doomslug's evaluation of the NEAR Whitepaper.">
		<meta name="author" content="Team Doomslug">

		<link rel="stylesheet" href="plugin/highlight/monokai.css">
	</head>
	<body>
		<div class="reveal">
			<div class="slides l-stack">
				<section data-transition="slide">
					<div>
						<img class="logo" src="assets/near-logo.svg" />
					</div>

					<ul class="mt">
						<li>Arthur Santos</li>
						<li>Leonardo Razovic</li>
						<li>Marijo Radman</li>
						<li>Sam Ruberti</li>
						<li>Tom Pignard</li>
					</ul>

					<div class="mt">
						<a href="https://near.org/papers/the-official-near-white-paper/">https://near.org/papers/the-official-near-white-paper</a>
					</div>
					<p>(Not financial advice)</p>
				</section>

				<section data-transition="slide">
					<h2>Outline</h2>

					<ul class="mt">
                      <li><a href="#2">Introduction</a></li>
                      <li><a href="#4">Economics</a></li>
                      <li><a href="#5">Cryptography</a></li>
                      <li><a href="#5">Governance</a></li>
                      <li><a href="#5">Guarantees</a></li>
                      <li><a href="#5">Structure</a></li>
                      <li><a href="#5">Threat Models</a></li>
                      <li><a href="#5">Conclusion</a></li>
					</ul>
				</section>

				<section data-transition="zoom" data-background-color="#d33682">
					<h2>Introduction</h2>
				</section>

				<section data-transition="slide">
					<h4>ü•ë Core offerings</h4>
					<p>
						NEAR is a community run blockchain-cloud built on Rust that allows <b>developers</b> to sustainably build applications which secure high value assets while making them performant and "infinitely scalable."
					</p>
				</section>

				<section data-transition="slide">
					<h4>ü§∑‚Äç What can users do?</h4>
					<ul>
						<li>
							Developers can build services in a permissionless environment and receive <b>rewards</b> when consumers interact with their applications.
						</li>
						<li>
							Token holders can interact with applications with <b>fast</b> transaction speeds and <b>low fees</b>, and they can <b>stake</b> their assets to earn rewards through a Proof of Stake mechanism.
						</li>
					</ul>
				</section>

				<section data-transition="slide">
					<h4>‚ùÑ Uniqueness</h4>
					<ul>
						<li>
							The economic model is built around the devloper first and introduces a deflationary mechanism for the token - a large portion of the transaction fees are burned.
						</li>
						<li>
							NEAR is a sharded, proof of stake, layer-one blockchain and claims to be infinitely scalable.
						</li>
					</ul>
				</section>

				<section data-markdown data-transition="zoom" data-background-color="#2aa198">
					<textarea data-template>
						## Economics
					</textarea>
				</section>

				<section data-markdown data-transition="slide">
					<textarea data-template>
						### üí∞ The NEAR token

						NEAR is the native token used for
						* <b>Security</b> of the network (PoS)
						* Medium of exchange
							- Network <b>transactions</b>
							- Network <b>storage</b>

						---

						### ‚òØÔ∏è Market Equilibrium
						There are three main economic forces in NEAR that affect the total supply

						* <b>Developers</b>
						* <b>Token holders</b>
						* <b>Inflation</b>
					</textarea>
				</section>

				<section data-markdown data-transition="slide">
					<textarea data-template>
						#### Ô∏èüíª Developers
						<span class="fragment fade-in-then-semi-out">Developers are rewarded for creating useful applications. They receive <b>30%</b> of a user's transaction fees when their contracts are called.</span>
						<span class="fragment fade-in">The remaining <b>70%</b> is burnedüî•.
					</textarea>
				</section>

				<section data-markdown data-transition="slide">
					<textarea data-template>
						#### üë®‚Äçüíº Token Holders
						<span class="fragment fade-in-then-semi-out">
							Active users <b>decrease</b> the total supply of the token via the burned portion of their transaction fees.
						</span>

						<span class="fragment fade-in">
							Inactive users allow the total supply to <b>increase</b> via inflation.
						</span>
					</textarea>
				</section>

				<section data-markdown data-transition="slide">
					<textarea data-template>
						#### üìà Inflation

						* Validators receive rewards based on a <b>5%</b> annual inflation rate. <b>4.5%</b> of these rewards are distributed to active validators based on the percentage of their stake.
						* <b>0.5%</b> of the annual rewards are given to the treasury. 
					</textarea>
				</section>

				<section data-markdown data-transition="slide">
					<textarea data-template>
						#### ‚öñÔ∏è In Summary
						
						Market equilibrium is dynamic based on the opposing forces of network <b>participation</b> and <b>inflation</b>. 

						<table class="mt">
							<thead>
								<tr>
									<th>tx/day</th>	
									<th>NEAR / day</th>
									<th>Ann Inflation</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>1,000</td>
									<td>136,986</td>
									<td>5.000%</td>
								</tr>
								<tr>
									<td>1 Million</td>
									<td>136,986</td>
									<td>4.996%</td>
								</tr>
								<tr>
									<td>1.5 Billion</td>
									<td>-13,014</td>
									<td>-0.475%</td>
								</tr>
								<tr>
									<td><b>2 Billion</b></td>
									<td>-64,014</td>
									<td><b>-2.300%</b></td>
								</tr>
							</tbody>
						</table>
					</textarea>
				</section>

				<section data-markdown data-transition="slide">
					<textarea data-template>
						#### üé≠ Tragedy of the Commons
						
						* In game theory Tragedy of the Commons states that <b>over consumption</b> of a common good by an individual inflicts damage on the rest. 
						
						* Over fishing, for example, provides the optimal benefit for the <b>individual</b>, but decreases the total fish population. 
					</textarea>
				</section>

				<section data-markdown data-transition="slide">
					<textarea data-template>
						#### üóÉ Blockchain Storage is Common Good

						* It is possible for the market to become flooded with applications and <b>bloat storage</b>.

						* NEAR therefore requires developers to maintain a <b>wallet balance</b> in proportion to the storage that their applications consume.
					</textarea>
				</section>

				<section data-markdown data-transition="slide">
					<textarea data-template>
						#### ü§∑‚Äç‚ôÇÔ∏èÔ∏è What does this do?

						* There is an <b>opportunity cost</b> with maintaining a wallet balance because those funds cannot be staked loose their value proportional to inflation.

						* The number of applications you can release are limited to your budget.

						* <b>Useful</b> applications will pay for themselves through transaction fees (or other) gains. 

						* <b>Unuseful</b> application will cost money.

					</textarea>
				</section>

				<section data-markdown data-transition="slide">
					<textarea data-template>
						#### ‚Äçü§úÔ∏èÔ∏èü§õ || üî™ Public Good Game

						The Validators are slashed for bad behavior (see ‚ÄúValidators‚Äù chapter) and rewarded for good behavior. From the game theoretical point of view the validators do not have any rational reason to misbehave in the network.

					</textarea>
				</section>

				<section data-markdown data-transition="slide">
					<textarea data-template>
						#### üëç What we like

						* Stuff

						* More stuff
					</textarea>
				</section>

				<section data-markdown data-transition="zoom" data-background-color="#cb4b16">
					<textarea data-template>
						## Cryptography
					</textarea>
				</section>

				<section data-transition="slide">
					<h4>‚úç Digital Signatures</h4>
					<ul>
						<li class="fragment fade-in-then-semi-out">
							NEAR supports accounts derived from a public/private key scheme based on either curve <b>SECP256K1</b> or <b>Ed25519</b> (dalek library).
						</li>
						<li class="fragment fade-in-then-semi-out">
							The support of SECP256K1 is useful to maintain some compatibility layer with <b>Bitcoin</b> & <b>Ethereum</b>.
						</li>

						<li class="fragment fade-in-then-semi-out">Most protocol operations effectively require <b>Ed25519</b> to be used.</li>
					</ul>
				</section>

				<section data-transition="slide">
					<h4>üìÆ Accounts</h4>
					<ul>
						<li class="fragment fade-in-then-semi-out">
							Public addresses are referenced my a DNS-like name by default (e.g. <b>alice.near</b>)
						</li>

						<li class="fragment fade-in-then-semi-out">
							<b>Multiple</b> key pairs can be associated with an single account.
						</li>

						<li class="fragment fade-in-then-semi-out">
							<b>FunctionCall</b> keys grant privileges to key pairs for specific functions with predefined max token allowances. (Similar to Stash / Controller accounts in Substrate, but more granular)
						</li>
					</ul>
				</section>

				<section data-transition="slide">
					<h4>#Ô∏è‚É£ Hash Functions</h4>
					<ul>
						<li class="fragment fade-in-then-semi-out">
							<b>SHA2-256</b> is used for most data structures.
						</li>

						<li class="fragment fade-in-then-semi-out">
							This hash function is battle-tested, but <b>slower</b> than Blake2/3.
						</li>

						<li class="fragment fade-in-then-semi-out">
							<b>Blake2b</b> is used in the new randomness beacon, but...
						</li>

						<li class="fragment fade-in-then-semi-out">
							It is not clear why they do not use Blake2 in <b>all</b> cases.
						</li>
					</ul>
				</section>

				<section data-transition="slide">
					<h4>üå≥ Merkle-Patricia Tries</h4>

					<p>Merkle-Patricia tries are used to record the chain state</p>

					<img 
						class="mt" 
						style="width: 600px; padding:20px; background-color: white; border-radius: 24px;" 
						src="assets/merkle-trie.svg" 
					/>
				</section>

				<section data-transition="slide">
					<h4>üî¨ Merkle Proofs</h4>
					<ul>
						<li class="fragment fade-in-then-semi-out">
							<b>Cannot</b> be tampered with without changing the root of the tree.
						</li>

						<li class="fragment fade-in-then-semi-out">
							The tree roots are included into the blocks, producing a compact commitment for the whole state data.
						</li>
					</ul>
				</section>

				<section data-transition="slide">
					<h4>üîó Hash Lists</h4>
					<p>
						The chain itself is a hash list, where each block refers to its parent by including the parent's header hash in its own header.
					</p>

					<img 
						class="mt fragment fade-in" 
						style="width: 600px; padding:20px; background-color: white; border-radius: 24px;" 
						src="assets/hash-list.svg" 
					/>
				</section>

				<section data-transition="slide">
					<h4>üìù Erasure Coding</h4>
					
					<ul>
						<li class="fragment fade-in-then-semi-out">
							Erasure coding is in the consensus itself.
						</li>

						<li class="fragment fade-in-then-semi-out">
							Each validator of a shard sends erasure coded data to validators of other shards.
						</li>

						<li class="fragment fade-in-then-semi-out">
							Ensures that only <b>1/3</b> of the validators can reconstruct data for all shards.
						</li>

						<li class="fragment fade-in-then-semi-out">
							Data availability is enforced at consensus level by forcing validators to check whether the data is available before they accept a block.
						</li>
					</ul>
				</section>

				<section data-transition="slide">
					<h4>‚úç‚úç‚úç Signature Aggregation > ‚úç</h4>
					
					<ul>
						<li class="fragment fade-in-then-semi-out">
							Block producers collect signatures of all validators and aggregate them with <b>BLS</b>.
						</li>

						<li class="fragment fade-in-then-semi-out">
							Aggregated signatures are published in a Merkle Trie of the individual signatures, and signed using <b>ECDSA</b>.
						</li>

						<li class="fragment fade-in-then-semi-out">
							Nodes that are syncing chain data can choose to skip the validation of individual signatures and merely <b>verify the ECDSA</b> signature from the validator (if the validator has not been challenged or slashed)
						</li>
					</ul>
				</section>

				<section data-transition="slide">
					<h4>üîé üé≤üé≤ Verifiable Random Function</h4>
					
					<ul>
						<li class="fragment fade-in-then-semi-out">
							VRFs are used in the new random beacon to generate randomness that's both unpredictable and unbiasable.
						</li>

						<li class="fragment fade-in-then-semi-out">
							The randomness beacon is based on BLS signatures, and allows any given subset <b>k < n</b> of <b>n</b> nodes to produce randomness without any node set of size <b>k - 1</b> being able to learn any information about the randomness beacon.
						</li>
					</ul>
				</section>

				<section data-transition="slide">
					<h4>üß† Succint Non-interactive ARguments of Knowledge (SNARK)</h4>
					
					<ul>
						<li class="fragment fade-in-then-semi-out">
							NEAR relies on <b>fishermen</b> to ensure the security of shards (more later).
						</li>

						<li class="fragment fade-in-then-semi-out">
							This is a fraud-proof approach that is cheap and easy to implement but the tradeoff is the negative impact on <b>liveness</b> and <b>speed</b> of the protocol due to the challenge period.
						</li>

						<li class="fragment fade-in-then-semi-out">
							NEAR plans to switch to a validity proof where each chunk producer would provide a <b>SNARK</b> attesting to the chunk validatity.	
						</li>
					</ul>
				</section>

				<section data-transition="slide">
					<h4>üëç What we like</h4>
					<ul>
						<li class="fragment fade-in-then-semi-out">
							The plan for bleeding edge primitives (SNARKS)
						</li>

						<li class="fragment fade-in-then-semi-out">
							Erasure coding to solve <b>data availability</b> issues - using a set of notaries keep long term data.
						</li>

						<li class="fragment fade-in-then-semi-out">
							Unbiased and unpredictable randomness for every <b>validator selection</b> using VRF (vs round-robin).
						</li>

						<li class="fragment fade-in-then-semi-out">
							The use of <b>BLS aggregation</b> of the signatures, which is elegant and efficient for a large number of validators. The final list is signed by <b>ECDSA</b>. Fast.
						</li>
					</ul>
				</section>

				<section data-transition="slide">
					<h4>üëé What we don't like</h4>
					<ul>
						<li class="fragment fade-in-then-semi-out">
							Most hashes are created from SHA2-256, which is <b>older</b> and <b>slower</b> than Blake2b.
						</li>

						<li class="fragment fade-in-then-semi-out">
							The current challenge/response mechanism affects the protocol <b>liveness</b>.
						</li>

						<li class="fragment fade-in-then-semi-out">
							The use of BLS aggregation is optimal for large signature lists, but there are currently only <b>100 validators</b>. 
							If the number of validators increases, the Schnorr interactive aggregation phase may become unpractical.
						</li>
					</ul>
				</section>

				<section data-markdown data-transition="zoom" data-background-color="#6c71c4">
					<textarea data-template>
						## Governance
					</textarea>
				</section>

				<section data-transition="slide">
					<h4>Lorem Ipsum</h4>
					<p>
						Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
					</p>
				</section>

				<section data-markdown data-transition="zoom" data-background-color="#cb4b16">
					<textarea data-template>
						## Structure
					</textarea>
				</section>

				<section data-transition="slide">
					<h4>Lorem Ipsum</h4>
					<p>
						Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
					</p>
				</section>

				<section data-markdown data-transition="zoom" data-background-color="#b58900">
					<textarea data-template>
						## Guarantees
					</textarea>
				</section>

				<section data-transition="slide">
					<h4>Lorem Ipsum</h4>
					<p>
						Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
					</p>
				</section>

				<section data-markdown data-transition="zoom" data-background-color="#dc322f">
					<textarea data-template>
						## Threat Models
					</textarea>
				</section>

				<section data-transition="slide">
					<h4>Lorem Ipsum</h4>
					<p>
						Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
					</p>
				</section>

				<section data-markdown data-transition="zoom" data-background-color="#586e75">
					<textarea data-template>
						## Conclusion
					</textarea>
				</section>

				<section data-transition="slide">
					<h4>Lorem Ipsum</h4>
					<p>
						Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
					</p>
				</section>
			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
